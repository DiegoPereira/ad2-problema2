---
title: "AD2-Problema2"
author: "Diego de Lima Pereira"
date: "Wednesday, November 05, 2014"
output: html_document
---

  Este é um relatório referente a segunda atividade da disciplina de Análise de Dados II, da Universidade Federal de Campina Grande, ministrada pelo professor Nazareno Andrade.

  O intuito Geral dessa análise é termos algumas informações sobre músicas, utilizando a base de dados Million Song Subset.
  
  Os dados das musicas estão disponí­veis [aqui](http://static.echonest.com/millionsongsubset_full.tar.gz).

Todos os artefatos desse experimento, incluindo o código, extração dos novos dados e resultados, podem ser encontradas no meu repositório do github [aqui](https://github.com/DiegoPereira/ad2-problema2).


**1. O Rock está realmente morrendo?**

Comumente ouvimos frases similares ao título dessa seção, não só relacionado ao rock propriamente dito, mas a todos os outros gêneros tradicionais. Com a ascensão de novos gêneros (como Happy rock por exemplo), maior número de músicas lançadas por ano e o nosso maior acesso a elas, não é tão estranha a sensação de que o tradicional está morrendo.


Foram selecionados 5 gêneros tradicionais(country, rock, reggae, pop e jazz) e veio a pergunta: O número de lançamentos desses gêneros vem realmente diminuindo?


No gráfico abaixo, podemos observar que não é bem assim, o número de músicas dos gêneros tradicionais, apesar de pequenas quedas, tende a aumentar significativamente, como é o caso do rock e do pop. Para reggae e jazz, valores são praticamente constantes (apesar de uma mudança significativa na década de 90). Destacamos o country, assim como o sertanejo brasileiro, passam por alguns anos de "esquecimento" porém há épocas em que voltam a ser tendência.

```{r, echo=FALSE}
library(ggplot2)
mainDados <- read.csv("C:/Users/diego/Desktop/ad2-p2/mainDados.csv")
main2 <- mainDados
main2$val <- 1
t <- aggregate(main2$val, list(main2$tag, main2$ano), FUN=sum, na.rm=TRUE)
ggplot(data=t, aes(x=Group.2 , y=x , group=Group.1, color=Group.1))+geom_line(size=1) + ylab('Quantidade de Músicas') + xlab("Anos") + ggtitle("Gráfico I - Quantidade de músicas\n por gênero ao longo dos anos")
```


**2. As músicas estão mais curtas ou mais longas com o passar do tempo?**

Primeiramente, abaixo está um gráfico que relaciona o Gráfico I com o tempo das músicas. Na horizontal temos os anos, na vertical temos a duração média em segundos, a cor da bolha indica o gênero e seu tamanho indica a quantidade de músicas lançadas. 
 
```{r, echo=FALSE}
mainDadosComTempo <- read.csv("C:/Users/diego/Desktop/ad2-p2/mainDadosComTempo.csv")
m <- aggregate(mainDadosComTempo$duracao, list(mainDadosComTempo$tag, mainDadosComTempo$ano), FUN=mean, na.rm=TRUE)
main3 <- mainDadosComTempo
main3$val <- 1
m2 <- aggregate(main3$val, list(mainDadosComTempo$tag, mainDadosComTempo$ano), FUN=sum, na.rm=TRUE)
m$numero <- m2$x
p <- ggplot(m, aes(Group.2, x))
p+geom_point(aes(color=Group.1, size=numero)) + ylab('Duração (segundos)') + xlab("Anos") + ggtitle("Gráfico II - Duração das músicas por gênero\n ao longo dos anos (com quantidade)")
````

Apesar das informações citadas anteriormente, o tamanho da bolha chama muito a atenção podemos levar a interpretações equivocadas dos leitores.


Devido a isso, temos outra versão do gráfico com tamanho contante dos circulos(Figura III).


De imediato, percebemos que o jazz possui as músicas mais longas, músicas até 1966 eram bem mais curtas (até 200 segundos) e que o reggae vem possuindo músicas mais curtas.


Para os observadores um pouco mais criteriosos, percebe-se que a distribuição até em torno dos anos 2000 se assemelha a uma parábola. Possui ascensão entre as décadas de 60 e 80, ápice entre 80 e 90 e uma queda após isso, porém por volta de 2005 volta a subir.


Não podemos afirmar que a duração das músicas está seguindo alguma tendência (para maior ou menor). Podemos tentar reconhecer alguns padrões, porém nada muito conclusivo e de maneira alguma podemos inferir a tendência média de minutos para daqui a 10 anos por exemplo.

```{r, echo=FALSE}
p+geom_point(aes(color=Group.1))+ ylab('Duração (segundos)') + xlab("Anos") + ggtitle("Gráfico III - Duração das músicas por gênero\n ao longo dos anos (sem quantidade)")


```


